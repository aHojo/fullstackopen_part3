{"version":3,"sources":["components/form.js","components/filter.js","components/person.js","components/Notification/index.js","utils/persons.js","App.js","index.js"],"names":["Form","name","number","hChange","hSubmit","onSubmit","value","onChange","type","Filter","filter","handleFilter","Fragment","Person","id","hDelete","style","display","alignItems","onClick","Notification","message","isErr","className","baseUrl","getAll","a","axios","get","response","data","addOne","person","post","deleteOne","delete","result","updateOne","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNumber","setFilter","errorMessage","setErrorMessage","isError","setIsError","useEffect","personController","then","handleDelete","peopleToShow","p","toLowerCase","includes","e","target","preventDefault","console","log","found","forEach","utilCheckIfNameExists","window","confirm","find","newPerson","personRemoved","catch","err","setTimeout","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.81b07bc5.chunk.js","sourcesContent":["const Form = ({name, number, hChange, hSubmit }) => {\n\n    return (\n        <form onSubmit={hSubmit}>\n            <div>\n                name: <input name=\"name\" value={name} onChange={hChange} />\n                <br />\n                number: <input name=\"number\" value={number} onChange={hChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form;","import React from \"react\"\n\nconst Filter = ({filter, handleFilter}) => {\n    return (\n    <React.Fragment>\n        <h3>Filter by name</h3>\n        <input  value={filter} onChange={handleFilter} />\n    </React.Fragment>\n    )\n}\n\n\nexport default Filter","const Person = ({name, number, id,hDelete}) => {\n    return (\n        <div style={{display:\"flex\", alignItems: \"center\"}}>\n            <p>{name} {\"=>\"} {number}</p> \n            <button onClick={()=> hDelete(id)}>Delete</button>\n        </div>\n    )\n}\n\n\nexport default Person;","import React from 'react';\n\n\nconst Notification = ({message, isErr}) => {\n\n\n    return (\n        <div className={isErr ? \"error\" : \"m-added\"}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = async () => {\n    const response = await axios.get(baseUrl);\n    return response.data;\n}\n\nconst addOne= async (person) => {\n    const response = await axios.post(baseUrl, person);\n    return response.data;\n}\n\nconst deleteOne = async (id) => {\n    const result = await axios.delete(`${baseUrl}/${id}`)\n    return result.data;\n}\n\nconst updateOne = async (id, person) => {\n    const result = await axios.put(`${baseUrl}/${id}`, person)\n    return result.data\n}\n\nexport default {\n    getAll,\n    addOne,\n    deleteOne,\n    updateOne\n}","import React, { useState, useEffect } from 'react'\nimport Form from './components/form';\nimport Filter from './components/filter';\nimport Person from './components/person';\nimport Notification from './components/Notification';\nimport personController from './utils/persons';\n\nfunction utilCheckIfNameExists(newName, persons) {\n  let found = false;  \n  persons.forEach(p => {\n      if (p.name.toLowerCase() === newName.toLowerCase()) {\n        found = true;\n      }\n    })\n\n    return found;\n\n}\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNumber ] = useState('')\n  const [filter, setFilter ] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n\n    // const fetchtData = async () => {\n    //   const result = await axios.get('http://localhost:3001/persons');\n    //   console.log(result.data)\n    // }\n    // fetchtData()\n    personController.getAll()\n      .then((data) => {\n        setPersons([...data])\n      })\n    \n  }, [])\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    console.log(\"new Name\", newName, \"persons\", persons)\n    if (!utilCheckIfNameExists(newName, persons)){\n      \n      // axios.post('http://localhost:3001/persons', {name: newName, number: newNumber})\n      // .then(response => {\n      //   console.log(\"Response Data\", response.data)\n      //   setPersons(\n      //     [...persons, response.data]\n      //   );\n      //   setNewName('');\n      //   setNumber('');\n      // })\n      personController.addOne({name: newName, number: newNumber})\n        .then(data => {\n        setPersons(\n          [...persons, data]\n        );\n        setNewName('');\n        setNumber('');\n        \n        setIsError(true)\n        setErrorMessage(`${newName} has been added`)\n        window.setTimeout(() => setErrorMessage(null), 1000)\n        })\n      \n      \n    } else {\n      const newNum = window.confirm(`${newName}  already exists, replace the old number with the new one? `);\n      if (newNum) {\n        const person = persons.find((p) => p.name.toLowerCase() === newName.toLowerCase())\n        const newPerson = {...person, number: newNumber};\n        personController.updateOne(newPerson.id, newPerson)\n          .then(data => {\n            const personRemoved = persons.filter(person => person.id !== data.id);\n            setPersons([...personRemoved, data])\n          \n          })\n          .catch(err => {\n            setIsError(true)\n            setErrorMessage(`${newName} was already deleted. `)\n             window.setTimeout(() => setErrorMessage(null), 2000)\n          })\n      }\n    }\n\n  }\n\n  const handleDelete = (id) => {\n\n    personController.deleteOne(id).then(data => {\n      setPersons(persons.filter(person => person.id !== id))\n    })\n    \n  }\n  const handleChange = (e) => e.target.name === 'name' ? setNewName(e.target.value) : setNumber(e.target.value)\n  const handleFilter = (e) => setFilter(e.target.value)\n\n  const peopleToShow = filter === '' ? persons : persons.filter(p => p.name.toLowerCase().includes(filter))\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {errorMessage && <Notification message={errorMessage} isErr={isError}/>}\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h3>Add New Person</h3>\n      <Form name={newName} number={newNumber} hChange={handleChange} hSubmit={handleSubmit} />\n      <h2>Numbers</h2>\n      {peopleToShow.map(person => <Person key={person.name} name={person.name} number={person.number} id={person.id} hDelete={handleDelete}/>)}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}